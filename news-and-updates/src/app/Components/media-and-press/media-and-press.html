<div class="media-page">
  <!-- Header -->
  <div class="page-header">
    <h1 class="page-title">Media & Press</h1>
    <p class="page-subtitle">Stay updated with our latest news, articles, and videos</p>
  </div>

  <!-- Filters Section -->
  <div class="filters-section">
    <div class="search-container">
      <input
        type="text"
        class="search-input"
        placeholder="Search articles and videos..."
        [(ngModel)]="searchQuery"
      />
    </div>
    
    <div class="filter-container">
      <select class="filter-select" [(ngModel)]="selectedType">
        <option value="all">All Media</option>
        <option value="article">Articles</option>
        <option value="video">All Videos</option>
        <option value="youtube">YouTube</option>
        <option value="twitter">Twitter</option>
        <option value="instagram">Instagram</option>
      </select>
    </div>
    
    <div class="sort-container">
      <select class="filter-select" [(ngModel)]="sortOrder">
        <option value="newest">Newest First</option>
        <option value="oldest">Oldest First</option>
      </select>
    </div>
  </div>

  <!-- Media Grid -->
  <div class="media-grid">
    <!-- Media Cards -->
    <div
      class="media-card"
      [class.article-card]="item.type === 'article'"
      [class.video-card]="isVideoType(item.type)"
      *ngFor="let item of filteredMedia"
      [ngSwitch]="item.type"
    >
      <!-- Article Template -->
      <div *ngSwitchCase="'article'" class="article-content">
        <div class="article-image-container" *ngIf="item.imageUrl">
          <img
            [src]="item.imageUrl"
            [alt]="item.title"
            class="article-image"
            (error)="$any($event.target).src = 'assets/media/placeholder.jpg'"
          />
        </div>
        <div class="article-badge">Newspaper Article</div>
        <div class="card-header">
          <h3 class="card-title">{{ item.title }}</h3>
        </div>
        <div class="card-meta">
          <span class="newspaper-name" *ngIf="item.newspaper">{{ item.newspaper }}</span>
          <span class="card-date">{{ formatDate(item.date) }}</span>
        </div>
        <p class="card-excerpt" *ngIf="item.excerpt">{{ item.excerpt }}</p>
        <button
          class="read-more-btn"
          (click)="openArticle(item.articleUrl)"
          *ngIf="item.articleUrl"
        >
          Read Full Article â†’
        </button>
      </div>

      <!-- YouTube Video Template -->
      <div *ngSwitchCase="'youtube'" class="video-content">
        <div class="video-container">
          <iframe
            [src]="getYouTubeEmbedUrl(item.youtubeVideoId!)"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            class="video-embed youtube-embed"
            loading="lazy"
          ></iframe>
        </div>
        <div class="video-badge youtube-badge">YouTube</div>
        <div class="card-header">
          <h3 class="card-title">{{ item.title }}</h3>
        </div>
        <div class="card-meta">
          <span class="card-date">{{ formatDate(item.date) }}</span>
        </div>
        <p class="card-description" *ngIf="item.description">{{ item.description }}</p>
      </div>

      <!-- Generic Video Template (for backward compatibility) -->
      <div *ngSwitchCase="'video'" class="video-content">
        <div class="video-container">
          <iframe
            [src]="getYouTubeEmbedUrl(item.youtubeVideoId!)"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            class="video-embed youtube-embed"
            loading="lazy"
          ></iframe>
        </div>
        <div class="video-badge youtube-badge">Video</div>
        <div class="card-header">
          <h3 class="card-title">{{ item.title }}</h3>
        </div>
        <div class="card-meta">
          <span class="card-date">{{ formatDate(item.date) }}</span>
        </div>
        <p class="card-description" *ngIf="item.description">{{ item.description }}</p>
      </div>

      <!-- Twitter Embed Template -->
      <div *ngSwitchCase="'twitter'" class="video-content">
        <div class="video-container twitter-container">
          <iframe
            [src]="getTwitterEmbedUrl(item.twitterEmbedId!)"
            frameborder="0"
            scrolling="no"
            class="video-embed twitter-embed"
            loading="lazy"
          ></iframe>
        </div>
        <div class="video-badge twitter-badge">Twitter</div>
        <div class="card-header">
          <h3 class="card-title">{{ item.title }}</h3>
        </div>
        <div class="card-meta">
          <span class="card-date">{{ formatDate(item.date) }}</span>
        </div>
        <p class="card-description" *ngIf="item.description">{{ item.description }}</p>
      </div>

      <!-- Instagram Embed Template -->
      <div *ngSwitchCase="'instagram'" class="video-content">
        <div class="video-container instagram-container">
          <iframe
            [src]="getInstagramEmbedUrl(item.instagramEmbedId!)"
            frameborder="0"
            scrolling="no"
            class="video-embed instagram-embed"
            loading="lazy"
          ></iframe>
        </div>
        <div class="video-badge instagram-badge">Instagram</div>
        <div class="card-header">
          <h3 class="card-title">{{ item.title }}</h3>
        </div>
        <div class="card-meta">
          <span class="card-date">{{ formatDate(item.date) }}</span>
        </div>
        <p class="card-description" *ngIf="item.description">{{ item.description }}</p>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="filteredMedia.length === 0">
    <p>No media items found. Try adjusting your filters.</p>
  </div>
</div>
